<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Recipe Details</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" *ngIf="recipe">
  
  <h2 class="ion-padding-start">Ingredients</h2>
  
  <ion-grid>
    <ion-row>
      <ion-col size="6" size-md="4" *ngFor="let ing of recipe.extendedIngredients">
        <ion-card>
          <img [src]="'https://spoonacular.com/cdn/ingredients_100x100/' + ing.image" />
          <ion-card-content>
             <p><strong>{{ ing.original }}</strong></p>
            
            <p *ngIf="currentUnit === 'us'">
              {{ ing.measures.us.amount }} {{ ing.measures.us.unitLong }}
            </p>
            <p *ngIf="currentUnit === 'metric'">
              {{ ing.measures.metric.amount }} {{ ing.measures.metric.unitLong }}
            </p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <h2 class="ion-padding-start">Instructions</h2>
  <ion-list>
    <ion-item *ngFor="let step of recipe.analyzedInstructions[0]?.steps" lines="none">
      <ion-label class="ion-text-wrap">
        {{ step.number }}: {{ step.step }}
      </ion-label>
    </ion-item>
  </ion-list>

  <div class="ion-padding">
    <ion-button expand="block" (click)="toggleFavourite()">
      <ion-icon slot="start" [name]="isFav ? 'heart' : 'heart-outline'"></ion-icon>
      {{ isFav ? 'Remove From Favourites' : 'Add to Favourites' }}
    </ion-button>
  </div>

</ion-content>
